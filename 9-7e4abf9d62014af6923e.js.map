{"version":3,"sources":["webpack:///./src/views/login/index.js"],"names":["Assessment","props","useState","isLoading","setLoading","title","id","onSubmit","name","value","code","type","attachForm","loading","e","a","preventDefault","document","querySelector","fetch","url","method","headers","response","json","data","navigate","date","state"],"mappings":"wNA4CeA,UAtCI,SAAAC,GAAU,IAAD,EACMC,oBAAS,GAAlCC,EADmB,KACRC,EADQ,KAE1B,OACE,iCACE,kBAAC,IAAD,CAAKC,MAAM,UACX,6CACA,iJAE8C,KAG9C,kBAAC,IAAD,CAAMC,GAAG,QAAQC,SAXK,6CAYpB,kBAAC,IAAD,CAAYC,KAAK,eAAeC,MAAOR,EAAMS,OAE7C,kBAAC,IAAD,CAAQC,KAAK,SAASC,WAAW,QAAQC,QAASV,GAAlD,cAdoB,4CAoB1B,WAAwBW,GAAxB,mBAAAC,EAAA,6DACED,EAAEE,iBACFZ,GAAW,GACLM,EAAOO,SAASC,cAAc,8BAA8BT,MAEhE,kGALJ,SAMyBU,MAASC,wGAAYV,EAAQ,CAClDW,OAAQ,MACRC,QAAS,CAAE,eAAgB,uCAR/B,cAMQC,EANR,gBAUqBA,EAASC,OAV9B,cAUQC,EAVR,OAYEC,mBAAS,yBAAyBhB,EAA1B,UAAwCe,EAAKE,KAAQ,CAC3DC,MAAO,CAAElB,KAAMA,EAAMiB,KAAMF,EAAKE,QAbpC,mBAeS,GAfT,6CApB0B","file":"9-7e4abf9d62014af6923e.js","sourcesContent":["//Content present\r\nimport React, { useState } from \"react\"\r\nimport { navigate } from \"gatsby\"\r\nimport SEO from \"../../components/seo\"\r\nimport { Form, InputField } from \"../../components/form\"\r\nimport { Button } from \"../../components/buttons\"\r\nconst Assessment = props => {\r\n  const [isLoading, setLoading] = useState(false)\r\n  return (\r\n    <section>\r\n      <SEO title=\"Login\" />\r\n      <h1>Authenication</h1>\r\n      <p>\r\n        Please provide the workplace code provided by your employer. If you see\r\n        a code already present just click continue.{\" \"}\r\n      </p>\r\n\r\n      <Form id=\"login\" onSubmit={onSubmit}>\r\n        <InputField name=\"company-code\" value={props.code} />\r\n\r\n        <Button type=\"submit\" attachForm=\"login\" loading={isLoading}>\r\n          Continue\r\n        </Button>\r\n      </Form>\r\n    </section>\r\n  )\r\n  async function onSubmit(e) {\r\n    e.preventDefault()\r\n    setLoading(true)\r\n    const code = document.querySelector(\"input[name='company-code']\").value\r\n    const url =\r\n      \"https://script.google.com/macros/s/AKfycbzOjMr0ElWLUfSNW-DomysA1yF2_G7rn3-e0Gh_bUvXKsZUYEY/exec\"\r\n    const response = await fetch(`${url}?code=${code}`, {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    })\r\n    const data = await response.json()\r\n\r\n    navigate(`/risk-assessment?code=${code}&date= ${data.date}`, {\r\n      state: { code: code, date: data.date },\r\n    })\r\n    return false\r\n  }\r\n}\r\nexport default Assessment\r\n"],"sourceRoot":""}