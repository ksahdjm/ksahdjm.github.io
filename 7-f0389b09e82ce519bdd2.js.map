{"version":3,"sources":["webpack:///./src/views/Assessment/index.js","webpack:///./src/views/Assessment/css.module.scss"],"names":["Assessment","props","useState","message","setMessage","isLoading","setLoading","date","location","state","code","title","id","onSubmit","className","css","active","section","join","name","label","type","onClick","next","value","awareOfPositiveCase","document","querySelector","alert","attachForm","loading","style","color","e","a","preventDefault","formData","FormData","target","data","dob","phone","email","street","parish","symptoms","entries","match","push","risk","length","positiveCaseKnowmask","positiveCaseKnownDistance","positiveCaseUnknowmask","positiveCaseUnknownDistance","disposal","fetch","method","headers","body","JSON","stringify","response","json","responseData","reset","console","log","current","classList","remove","add","window","scrollTo","top","left","behavior","module","exports"],"mappings":"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","file":"7-f0389b09e82ce519bdd2.js","sourcesContent":["import React, { useState } from \"react\"\r\nimport css from \"./css.module.scss\"\r\nimport SEO from \"../../components/seo\"\r\nimport {\r\n  Form,\r\n  InputField,\r\n  Fields,\r\n  CheckboxField,\r\n  RadioField,\r\n  TextArea,\r\n} from \"../../components/form\"\r\nimport { Button } from \"../../components/buttons\"\r\nconst Assessment = props => {\r\n  const [message, setMessage] = useState(\"Please Monitor your symptoms\")\r\n  const [isLoading, setLoading] = useState(false)\r\n  const date = props.location.state.date\r\n  const code = props.location.state.code\r\n  return (\r\n    <section>\r\n      <SEO title=\"Assessment\" />\r\n      <Form id=\"assessment\" onSubmit={onSubmit}>\r\n        <section\r\n          className={[css.active, css.section].join(\" \")}\r\n          id=\"demographics\"\r\n        >\r\n          <h1>Demographics</h1>\r\n          <InputField name=\"name\" label=\"Your Full Name\" />\r\n          <InputField name=\"dob\" type=\"date\" label=\"Date of Birth\" />\r\n          <InputField name=\"phone\" type=\"phone\" label=\"Telephone Number\" />\r\n          <InputField name=\"email\" type=\"email\" label=\"Email\" />\r\n          <h3>Address</h3>\r\n          <hr />\r\n          <Fields>\r\n            <InputField name=\"street\" label=\"Street Address\" />\r\n            <InputField name=\"parish\" label=\"Parish\" />\r\n          </Fields>\r\n          <h3>Job Info</h3>\r\n          <hr />\r\n          <Fields>\r\n            <InputField name=\"job[title]\" label=\"Job Title\" />\r\n            <InputField name=\"job[department]\" label=\"Department\" />\r\n          </Fields>\r\n          <h3>Emergency Contact</h3>\r\n          <hr />\r\n          <Fields>\r\n            <InputField\r\n              name=\"kin[name]\"\r\n              label=\"Next of Kin (Relative or Friend)\"\r\n            />\r\n            <InputField\r\n              name=\"kin[phone]\"\r\n              type=\"phone\"\r\n              label=\"Next of Kin Phone Number\"\r\n            />\r\n          </Fields>\r\n          <Button onClick={() => next(\"demographics\", \"risk-assessment\")}>\r\n            Next\r\n          </Button>\r\n        </section>\r\n        <section className={css.section} id=\"risk-assessment\">\r\n          <h1>Risk Assessment</h1>\r\n          <h3>\r\n            Have you had any of the following symptoms in the past two weeks?\r\n          </h3>\r\n          <CheckboxField name=\"symptoms[tiredness]\" value=\"Extreme Tiredness\" />\r\n          <CheckboxField name=\"symptoms[fever]\" value=\"Fever\" />\r\n          <CheckboxField name=\"symptoms[cough]\" value=\"Cough\" />\r\n          <CheckboxField\r\n            name=\"symptoms[stuffy-nose]\"\r\n            value=\"Stuffy/Runny Nose\"\r\n          />\r\n          <CheckboxField name=\"symptoms[loss-taste]\" value=\"Loss of Taste\" />\r\n          <CheckboxField name=\"symptoms[loss-smell]\" value=\"Loss of Smell\" />\r\n          <CheckboxField name=\"symptoms[sore-throat]\" value=\"Sore Throat\" />\r\n          <CheckboxField name=\"symptoms[muscle-pain]\" value=\"Muscle Pain\" />\r\n          <CheckboxField name=\"symptoms[joint-pain]\" value=\"Joint Pain\" />\r\n          <CheckboxField name=\"symptoms[headace]\" value=\"Headace\" />\r\n          <CheckboxField\r\n            name=\"symptoms[shortness-of-breath]\"\r\n            value=\"Shortness of Breath(Difficulty Breathing)\"\r\n          />\r\n          <CheckboxField name=\"symptoms[chest-pain]\" value=\"Chest Pain\" />\r\n          <CheckboxField name=\"symptoms[vomiting]\" value=\"Vomiting\" />\r\n          <CheckboxField name=\"symptoms[diarrhea]\" value=\"Diarrhea\" />\r\n          <br />\r\n          <h3>Are you aware of who the employee is that tested positive?</h3>\r\n          <RadioField name=\"aware-of-positive-case\" value=\"Yes\" />\r\n          <RadioField name=\"aware-of-positive-case\" value=\"No\" />\r\n          <br />\r\n          <Button onClick={() => next(\"risk-assessment\", \"demographics\")}>\r\n            Back\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              const awareOfPositiveCase = document.querySelector(\r\n                \"input[name='aware-of-positive-case']:checked\"\r\n              )\r\n              if (!awareOfPositiveCase) {\r\n                alert(\"Please answer yes or no to the last question\")\r\n                return\r\n              }\r\n              if (awareOfPositiveCase.value === \"Yes\")\r\n                next(\"risk-assessment\", \"positive-case-known\")\r\n              else if (awareOfPositiveCase.value === \"No\")\r\n                next(\"risk-assessment\", \"positive-case-unknown\")\r\n            }}\r\n          >\r\n            Next\r\n          </Button>\r\n        </section>\r\n        <section className={css.section} id=\"positive-case-unknown\">\r\n          <h1>Risk Assessment</h1>\r\n          <h3>\r\n            While working, are you usually less than 2 arms length from other\r\n            employees?\r\n          </h3>\r\n          <RadioField name=\"positive-case-unknown-distance\" value=\"Yes\" />\r\n          <RadioField name=\"positive-case-unknown-distance\" value=\"No\" />\r\n          <h3>Do you always wear a mask at work?</h3>\r\n          <RadioField name=\"positive-case-unknown-mask\" value=\"Yes\" />\r\n          <RadioField name=\"positive-case-unknown-mask\" value=\"No\" />\r\n          <h3>\r\n            If you have any additional information or questions feel free to\r\n            comment below.\r\n          </h3>\r\n          <TextArea name=\"additional-information\" value=\"N/A\"></TextArea>\r\n          <Button\r\n            onClick={() => next(\"positive-case-unknown\", \"risk-assessment\")}\r\n          >\r\n            Back\r\n          </Button>\r\n          <Button type=\"submit\" attachForm=\"assessment\" loading={isLoading}>\r\n            Submit\r\n          </Button>\r\n        </section>\r\n        <section className={css.section} id=\"positive-case-known\">\r\n          <h1>Risk Assessment</h1>\r\n          <h3>\r\n            Have you worked or interacted within 2 arms length of this\r\n            individual since {date}?\r\n          </h3>\r\n          <RadioField name=\"positive-case-known-distance\" value=\"Yes\" />\r\n          <RadioField name=\"positive-case-known-distance\" value=\"No\" />\r\n          <h3>Were you both wearing a mask?</h3>\r\n          <RadioField name=\"positive-case-known-mask\" value=\"Yes\" />\r\n          <RadioField name=\"positive-case-known-mask\" value=\"No\" />\r\n          <h3>\r\n            If you have any additional information or questions feel free to\r\n            comment below.\r\n          </h3>\r\n          <TextArea name=\"additional-information\" value=\"N/A\"></TextArea>\r\n          <Button\r\n            onClick={() => next(\"positive-case-known\", \"risk-assessment\")}\r\n          >\r\n            Back\r\n          </Button>\r\n          <Button type=\"submit\" attachForm=\"assessment\" loading={isLoading}>\r\n            Submit\r\n          </Button>\r\n        </section>\r\n        <section className={css.section} id=\"complete\">\r\n          <h3>\r\n            Thank you for submitting your information.{\" \"}\r\n            <strong style={{ color: \"red\" }}>{message}</strong>.\r\n          </h3>\r\n        </section>\r\n      </Form>\r\n    </section>\r\n  )\r\n  async function onSubmit(e) {\r\n    e.preventDefault()\r\n    // setLoading(true)\r\n    const formData = new FormData(e.target)\r\n\r\n    const data = {\r\n      name: \"\",\r\n      dob: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      street: \"\",\r\n      parish: \"\",\r\n      \"job[title]\": \"\",\r\n      \"job[department]\": \"\",\r\n      \"kin[name]\": \"\",\r\n      \"kin[phone]\": \"\",\r\n      \"aware-of-positive-case\": \"\",\r\n      \"additional-information\": \"\",\r\n      symptoms: [],\r\n    }\r\n    for (let value of formData.entries()) {\r\n      if (value[0].match(/symptoms/g)) data.symptoms.push(value[1])\r\n      else data[value[0]] = value[1]\r\n    }\r\n    const risk = data.symptoms.length > 0 ? true : false\r\n    const positiveCaseKnowmask = document.querySelector(\r\n      \"input[name='positive-case-known-mask']:checked\"\r\n    )\r\n    const positiveCaseKnownDistance = document.querySelector(\r\n      \"input[name='positive-case-known-distance']:checked\"\r\n    )\r\n    const positiveCaseUnknowmask = document.querySelector(\r\n      \"input[name='positive-case-unknown-mask']:checked\"\r\n    )\r\n    const positiveCaseUnknownDistance = document.querySelector(\r\n      \"input[name='positive-case-unknown-distance']:checked\"\r\n    )\r\n    if (\r\n      (positiveCaseKnowmask || positiveCaseUnknowmask) &&\r\n      (positiveCaseKnownDistance || positiveCaseUnknownDistance)\r\n    ) {\r\n      if (\r\n        positiveCaseUnknownDistance?.value === \"No\" ||\r\n        positiveCaseKnownDistance?.value === \"No\" ||\r\n        positiveCaseKnowmask?.value === \"Yes\" ||\r\n        positiveCaseUnknowmask?.value === \"Yes\"\r\n      ) {\r\n        data.disposal = risk\r\n          ? \"Schedule Testing and Monitor symptoms\"\r\n          : \"Monitor symptoms\"\r\n        if (risk)\r\n          setMessage(\"Please Quarantine, we will be in contact with you soon.\")\r\n        else setMessage(\"Please Monitor your symptoms\")\r\n      }\r\n      if (\r\n        (positiveCaseKnowmask?.value === \"No\" ||\r\n          positiveCaseUnknowmask?.value === \"No\") &&\r\n        (positiveCaseUnknownDistance?.value === \"Yes\" ||\r\n          positiveCaseKnownDistance?.value === \"Yes\")\r\n      ) {\r\n        data.disposal = risk\r\n          ? \"Schedule Testing and Quarantine order\"\r\n          : \"Quarantine order\"\r\n        setMessage(\"Please Quarantine, we will be in contact with you soon.\")\r\n      }\r\n      \r\n    } else {\r\n      alert(\"Most provide an answer outer\")\r\n      setLoading(false)\r\n      return\r\n    }\r\n    const url =\r\n      \"https://script.google.com/macros/s/AKfycbzOjMr0ElWLUfSNW-DomysA1yF2_G7rn3-e0Gh_bUvXKsZUYEY/exec\"\r\n    const response = await fetch(url, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: JSON.stringify({ code: code, data: data }),\r\n    })\r\n    const responseData = await response.json()\r\n    setLoading(false)\r\n    document.querySelector(\"#assessment\").reset()\r\n    console.log(responseData)\r\n    if (positiveCaseKnowmask) next(\"positive-case-known\", \"complete\")\r\n    else if (positiveCaseUnknowmask) next(\"positive-case-unknown\", \"complete\")\r\n  }\r\n  function next(current, next) {\r\n    document.querySelector(`#${current}`).classList.remove(css.active)\r\n    document.querySelector(`#${next}`).classList.add(css.active)\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\r\n  }\r\n}\r\nexport default Assessment\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"css-module--active--_oZJb\",\"section\":\"css-module--section--1Q1KB\"};"],"sourceRoot":""}